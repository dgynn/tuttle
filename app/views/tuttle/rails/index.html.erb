<h1>Rails Overview</h1>

<pre>
Rails Version = <%= Rails::VERSION::STRING %>
Environment = <%= Rails.env %>
Root = <%= Rails.root %>
Timezone = <%= Rails.configuration.time_zone %>
Log Level = <%= Rails.configuration.log_level %>
</pre>

<ul class="nav nav-tabs" role="tablist">
  <li class="active"><a href="#config" role="tab" data-toggle="tab">Configuration</a></li>
  <li><a href="#application" role="tab" data-toggle="tab">Application</a></li>
  <li><a href="#initializers" role="tab" data-toggle="tab">Initializers</a></li>
  <li><a href="#middleware" role="tab" data-toggle="tab">Middleware</a></li>
  <li><a href="#railties" role="tab" data-toggle="tab">Railties</a></li>
  <li><a href="#engines" role="tab" data-toggle="tab">Engines</a></li>
  <li><a href="#generators" role="tab" data-toggle="tab">Generators</a></li>
  <li><a href="#timedate" role="tab" data-toggle="tab">Time and Date Formats</a></li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="config">
    <dl class="dl-horizontal">
      <%- Rails.configuration.instance_variables.sort.each do |symbol| %>
          <dt><%= symbol %></dt>
          <dd><samp><%= Rails.configuration.instance_variable_get(symbol) %></samp></dd>
      <%- end %>
    </dl>
  </div>
  <div class="tab-pane" id="application">
    <dl class="dl-horizontal">
      <%- Rails.application.instance_variables.sort.each do |symbol| %>
          <dt><%= symbol %></dt>
          <dd><samp><%= Rails.application.instance_variable_get(symbol).class.name %></samp></dd>
      <%- end %>
    </dl>
  </div>
  <div class="tab-pane" id="initializers">
    <ol>
      <%- Rails.application.initializers.each do |initializer| %>
        <li><%= initializer.name %> - <%= initializer.instance_variable_get('@context').class.name %></li>
      <%- end %>
    </ol>
  </div>
  <div class="tab-pane" id="middleware">
    <ol>
      <%- Rails.application.middleware.each do |middleware| %>
          <li><%= middleware.name %></li>
      <%- end %>
    </ol>
  </div>
  <div class="tab-pane" id="railties">
    <p>
      Rails configuration.railties_order = <%= Rails.configuration.railties_order %>
    </p>
    <ol>
      <%- Rails.application.send(:ordered_railties).each do |railtie| %>
          <li><%= railtie.railtie_name %> - <%= railtie.class.name %></li>
      <%- end %>
    </ol>
  </div>
  <div class="tab-pane" id="engines">
    <ol>
      <%- ::Rails::Engine.descendants.sort_by(&:name).each do |engine_class| %>
          <%- next if engine_class.abstract_railtie? -%>
          <%- engine = engine_class.instance %>
          <li><%= engine.engine_name %> - <%= engine_class.name %> <%= engine_class.called_from %> <%= '<b>ISOLATED</b>'.html_safe if engine_class.isolated? %> </li>
      <%- end %>
    </ol>
  </div>
  <div class="tab-pane" id="timedate">
    <% # http://www.foragoodstrftime.com/ %>
    <%- today, now = Date.today, Time.now %>
    <h3>Date Formats</h3>
    <table class="table table-condensed">
      <tr>
        <th>Format</th>
        <th>Example</th>
        <th>Formatter</th>
      </tr>
      <tr>
        <td><i>default</i></td>
        <td><%= today.to_s %></td>
        <td></td>
      </tr>
      <%- Date::DATE_FORMATS.sort.each do |format,formatter| %>
          <tr>
          <td>:<%= format %></td>
          <td><%= today.to_s(format) %></td>
          <td><%= formatter.respond_to?(:call) ? 'Dynamic Proc' : formatter %></td>
          </tr>
      <%- end %>
    </table>
    <h3>Time Formats</h3>
    <table class="table table-condensed">
      <tr>
        <th>Format</th>
        <th>Example</th>
        <th>Formatter</th>
      </tr>
      <tr>
        <td><i>default</i></td>
        <td><%= now.to_s %></td>
        <td></td>
      </tr>
      <%- Time::DATE_FORMATS.sort.each do |format,formatter| %>
          <tr>
            <td>:<%= format %></td>
            <td><%= today.to_s(format) %></td>
            <td><%= formatter.respond_to?(:call) ? 'Dynamic Proc' : formatter %></td>
          </tr>
      <%- end %>
    </table>
  </div>
  <div class="tab-pane" id="generators">
    <h2>Configs</h2>
    <dl>
      <dt>assets = <%= Rails::Generators.options[:rails][:assets] %></dt>
      <dd>allows to create assets on generating a scaffold. Defaults to true.</dd>
      <dt>force_plural = <%= Rails::Generators.options[:rails][:force_plural] %></dt>
      <dd>allows pluralized model names. Defaults to false.</dd>
      <dt>helper = <%= Rails::Generators.options[:rails][:helper] %></dt>
      <dd>defines whether or not to generate helpers. Defaults to true.</dd>
      <dt>integration_tool = <%= Rails::Generators.options[:rails][:integration_tool] %></dt>
      <dd>defines which integration tool to use. Defaults to nil.</dd>
      <dt>javascripts = <%= Rails::Generators.options[:rails][:javascripts] %></dt>
      <dd>turns on the hook for JavaScript files in generators. Used in Rails for when the scaffold generator is run. Defaults to true.</dd>
      <dt>javascript_engine = <%= Rails::Generators.options[:rails][:javascript_engine] %></dt>
      <dd>configures the engine to be used (for eg. coffee) when generating assets. Defaults to nil.</dd>

      <dt>orm = <%= Rails::Generators.options[:rails][:orm] %></dt>
      <dd>defines which orm to use. Defaults to false and will use Active Record by default.</dd>
      <dt>resource_controller = <%= Rails::Generators.options[:rails][:resource_controller] %></dt>
      <dd>defines which generator to use for generating a controller when using rails generate resource. Defaults to :controller.</dd>
      <dt>scaffold_controller = <%= Rails::Generators.options[:rails][:scaffold_controller] %></dt>
      <dd>different from resource_controller, defines which generator to use for generating a scaffolded controller when using rails generate scaffold. Defaults to :scaffold_controller.</dd>
      <dt>stylesheets = <%= Rails::Generators.options[:rails][:stylesheets] %></dt>
      <dd>turns on the hook for stylesheets in generators. Used in Rails for when the scaffold generator is run, but this hook can be used in other generates as well. Defaults to true.</dd>
      <dt>stylesheet_engine = <%= Rails::Generators.options[:rails][:stylesheet_engine] %></dt>
      <dd>configures the stylesheet engine (for eg. sass) to be used when generating assets. Defaults to :css.</dd>
      <dt>test_framework = <%= Rails::Generators.options[:rails][:test_framework] %></dt>
      <dd>defines which test framework to use. Defaults to false and will use Test::Unit by default.</dd>
      <dt>template_engine = <%= Rails::Generators.options[:rails][:template_engine] %></dt>
      <dd>defines which template engine to use, such as ERB or Haml. Defaults to :erb.</dd>
     </dl>
    <h2>Generators</h2>
    <ul>
      <% Rails::Generators.subclasses.each do |generator| %>
        <li><%= generator.name %>
          <pre><%= generator.desc %></pre>
        </li>
      <% end %>
    </ul>
  </div>
</div>
